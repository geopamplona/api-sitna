TC.control=TC.control||{},TC.Control||TC.syncLoadJS(TC.apiLocation+"TC/Control"),TC.control.OverviewMap=function(){var e=this;TC.Control.apply(e,arguments),e.$events=$(e),e.isLoaded=!1,e.layer=null,e.wrap=new TC.wrap.control.OverviewMap(e)},TC.inherit(TC.control.OverviewMap,TC.Control),function(){var e=TC.control.OverviewMap.prototype;e.CLASS="tc-ctl-ovmap",e.template=TC.isDebug?TC.apiLocation+"TC/templates/OverviewMap.html":function(){function t(e,t){return e.w('<div class="tc-ctl-ovmap-load tc-hidden"></div>')}return dust.register(e.CLASS,t),t.__dustBody=!0,t},e.register=function(e){var t=this,a=t.options.layer;TC.Control.prototype.register.call(t,e),e.loaded(function(){var n;if("string"==typeof a){var o=function(e,t){for(var a=null,n=0;n<t.length;n++){var o=t[n],r=o.id||o;if(r===e){a=o;break}}return a},r=o(a,TC.Cfg.availableBaseLayers);$.isPlainObject(r)||(r=o(a,e.options.baseLayers)),$.isPlainObject(r)&&(n=new TC.layer.Raster(r))}else n=a instanceof TC.Layer?a:a.type===TC.Consts.layerType.VECTOR||a.type===TC.Consts.layerType.KML||a.type===TC.Consts.layerType.WFS?new TC.layer.Vector(a):new TC.layer.Raster(a);t.layer=n,t.wrap.register(e)})},e.loaded=function(e){var t=this;$.isFunction(e)&&(t.isLoaded&&t.map&&t.map.isLoaded?e():t.$events.on(TC.Consts.event.MAPLOAD,e))},e.activate=function(){this.enable()},e.deactivate=function(){this.disable()},e.enable=function(){var e=this;TC.Control.prototype.enable.call(e),e.wrap.enable()},e.disable=function(){var e=this;TC.Control.prototype.disable.call(e),e.wrap.disable()}}();